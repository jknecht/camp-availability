<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular.min.js"></script>
        <script src="js/Chart.min.js"></script>
    </head>
    <body ng-app="camp">
        <div ng-controller="AvailabilityCtrl" ng-init="loadData()">
            <div id="chart-div">
                <select ng-options="camp as camp.name for camp in data" ng-model="selectedCamp" ng-change="drawChart()" ></select>
                Tent Only: <input type="checkbox" ng-model="tentOnly" ng-change="drawChart()">
            </div>
            <canvas id="myChart" width="400" height="400"></canvas>
            <div ng-repeat="camp in data">
                <h1>{{camp.name}}</h1>
                <table border="1">
                    <thead>
                    <tr>
                        <th>Swimming Beach</th>
                        <th>Bike Trails</th>
                        <th>Hiking Trails</th>
                        <th>Shower</th>
                        <th>Flush Toilets</th>
                        <th>Water Faucets</th>
                        <th>Dump Station</th>
                        <th>No Motor Boats</th>
                        <th>Firewood</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td align="center">{{camp.swimmingBeach}}</td>
                        <td align="center">{{camp.bikeTrails}}</td>
                        <td align="center">{{camp.hikingTrails}}</td>
                        <td align="center">{{camp.shower}}</td>
                        <td align="center">{{camp.flushToilets}}</td>
                        <td align="center">{{camp.waterFaucets}}</td>
                        <td align="center">{{camp.dumpStation}}</td>
                        <td align="center">{{camp.noMotorBoats}}</td>
                        <td align="center">{{camp.firewoodAvailable}}</td>
                    </tr>
                    </tbody>
                </table>
                <table>
                    <thead>
                    <tr>
                        <th>Date</th>
                        <th>Trailer or Tent Sites</th>
                        <th>Tent Only Sites</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="row in camp.availabilityHistory">
                        <td>{{row.date}}</td>
                        <td align="right">{{row.trailerOrTentSitesAvailable}}</td>
                        <td align="right">{{row.tentOnlySitesAvailable}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>

        </div>
        <script src="js/availability.js"></script>
    </body>
</html>